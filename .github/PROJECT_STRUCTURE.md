# PT Docker Installer é¡¹ç›®ç»“æ„

## ğŸ“ å®Œæ•´ç›®å½•ç»“æ„

```
pt-docker-installer/
â”œâ”€â”€ README.md                           # é¡¹ç›®ä¸»è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE                             # MITå¼€æºè®¸å¯è¯
â”œâ”€â”€ version.txt                         # ç‰ˆæœ¬ä¿¡æ¯
â”œâ”€â”€ CHANGELOG.md                        # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ PROJECT_STRUCTURE.md                # é¡¹ç›®ç»“æ„è¯´æ˜(æœ¬æ–‡ä»¶)
â”œâ”€â”€ install.sh                          # ä¸»å®‰è£…è„šæœ¬(v1.0åŸºç¡€ç‰ˆ)
â”‚
â”œâ”€â”€ scripts/                            # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ advanced-installer.sh          # é«˜çº§å®‰è£…è„šæœ¬(v2.0é¢„è§ˆç‰ˆ)
â”‚   â”œâ”€â”€ docker-utils.sh                 # Dockerå·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ core-apps.sh                    # æ ¸å¿ƒåº”ç”¨å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ media-servers.sh                # åª’ä½“æœåŠ¡å™¨é…ç½®è„šæœ¬
â”‚   â””â”€â”€ utils.sh                        # é€šç”¨å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ configs/                            # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ docker-compose-templates.yml    # æ‰€æœ‰åº”ç”¨çš„Docker Composeæ¨¡æ¿
â”‚   â”œâ”€â”€ docker-compose/                 # å„åº”ç”¨ç‹¬ç«‹é…ç½®
â”‚   â”‚   â”œâ”€â”€ qbittorrent.yml
â”‚   â”‚   â”œâ”€â”€ transmission.yml
â”‚   â”‚   â”œâ”€â”€ moviepilot.yml
â”‚   â”‚   â”œâ”€â”€ emby.yml
â”‚   â”‚   â”œâ”€â”€ jellyfin.yml
â”‚   â”‚   â””â”€â”€ plex.yml
â”‚   â””â”€â”€ templates/                      # é…ç½®æ¨¡æ¿
â”‚       â”œâ”€â”€ nginx.conf.template
â”‚       â”œâ”€â”€ qbittorrent.conf.template
â”‚       â””â”€â”€ environment.env.template
â”‚
â”œâ”€â”€ docs/                               # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ installation.md                 # è¯¦ç»†å®‰è£…æŒ‡å—
â”‚   â”œâ”€â”€ configuration.md                # é…ç½®æŒ‡å—
â”‚   â”œâ”€â”€ troubleshooting.md              # æ•…éšœæ’é™¤æŒ‡å—
â”‚   â”œâ”€â”€ FAQ.md                          # å¸¸è§é—®é¢˜è§£ç­”
â”‚   â”œâ”€â”€ api.md                          # APIæ–‡æ¡£(å¦‚æœ‰)
â”‚   â””â”€â”€ examples/                       # ç¤ºä¾‹é…ç½®
â”‚       â”œâ”€â”€ basic-setup.md
â”‚       â”œâ”€â”€ advanced-setup.md
â”‚       â””â”€â”€ nas-setup.md
â”‚
â”œâ”€â”€ tools/                              # å·¥å…·ç›®å½•
â”‚   â”œâ”€â”€ backup.sh                       # å¤‡ä»½å·¥å…·
â”‚   â”œâ”€â”€ restore.sh                      # æ¢å¤å·¥å…·
â”‚   â”œâ”€â”€ cleanup.sh                      # æ¸…ç†å·¥å…·
â”‚   â”œâ”€â”€ update.sh                       # æ›´æ–°å·¥å…·
â”‚   â””â”€â”€ monitor.sh                      # ç›‘æ§å·¥å…·
â”‚
â”œâ”€â”€ tests/                              # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ test-install.sh                 # å®‰è£…æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test-basic-functions.sh         # åŸºç¡€åŠŸèƒ½æµ‹è¯•
â”‚   â””â”€â”€ test-environments/              # æµ‹è¯•ç¯å¢ƒé…ç½®
â”‚       â”œâ”€â”€ ubuntu-20.04.yml
â”‚       â”œâ”€â”€ debian-11.yml
â”‚       â””â”€â”€ centos-8.yml
â”‚
â””â”€â”€ .github/                            # GitHubé…ç½®
    â”œâ”€â”€ workflows/                      # GitHub Actions
    â”‚   â”œâ”€â”€ test.yml                    # è‡ªåŠ¨åŒ–æµ‹è¯•
    â”‚   â”œâ”€â”€ release.yml                 # è‡ªåŠ¨å‘å¸ƒ
    â”‚   â””â”€â”€ docker-build.yml            # Dockeræ„å»º
    â”œâ”€â”€ ISSUE_TEMPLATE/                 # Issueæ¨¡æ¿
    â”‚   â”œâ”€â”€ bug_report.md
    â”‚   â”œâ”€â”€ feature_request.md
    â”‚   â””â”€â”€ question.md
    â””â”€â”€ PULL_REQUEST_TEMPLATE.md        # PRæ¨¡æ¿
```

## ğŸ“‹ æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | æè¿° | ç”¨é€” |
|------|------|------|
| `install.sh` | ä¸»å®‰è£…è„šæœ¬ | v1.0ç‰ˆæœ¬ï¼Œç®€å•æ˜“ç”¨çš„ä¸€é”®å®‰è£… |
| `scripts/advanced-installer.sh` | é«˜çº§å®‰è£…è„šæœ¬ | v2.0ç‰ˆæœ¬ï¼Œæ”¯æŒåˆ†ç±»é€‰æ‹©å’Œæ›´å¤šåº”ç”¨ |
| `scripts/docker-utils.sh` | Dockerå·¥å…·è„šæœ¬ | æä¾›ç»´æŠ¤ã€ç›‘æ§ã€å¤‡ä»½ç­‰åŠŸèƒ½ |

### é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | æè¿° | ç”¨é€” |
|------|------|------|
| `configs/docker-compose-templates.yml` | å®Œæ•´æ¨¡æ¿ | åŒ…å«æ‰€æœ‰æ”¯æŒåº”ç”¨çš„é…ç½®æ¨¡æ¿ |
| `configs/docker-compose/*.yml` | ç‹¬ç«‹é…ç½® | å„åº”ç”¨çš„ç‹¬ç«‹Docker Composeé…ç½® |
| `configs/templates/*.template` | é…ç½®æ¨¡æ¿ | å„ç§æœåŠ¡çš„é…ç½®æ–‡ä»¶æ¨¡æ¿ |

### æ–‡æ¡£æ–‡ä»¶

| æ–‡ä»¶ | æè¿° | ç›®æ ‡ç”¨æˆ· |
|------|------|----------|
| `README.md` | é¡¹ç›®ä¸»æ–‡æ¡£ | æ‰€æœ‰ç”¨æˆ· |
| `docs/installation.md` | å®‰è£…æŒ‡å— | æ–°æ‰‹ç”¨æˆ· |
| `docs/configuration.md` | é…ç½®æŒ‡å— | è¿›é˜¶ç”¨æˆ· |
| `docs/FAQ.md` | å¸¸è§é—®é¢˜ | é‡åˆ°é—®é¢˜çš„ç”¨æˆ· |
| `CHANGELOG.md` | æ›´æ–°æ—¥å¿— | å…³æ³¨æ›´æ–°çš„ç”¨æˆ· |

## ğŸš€ å¼€å‘è§„åˆ’

### v1.0 - åŸºç¡€ç‰ˆæœ¬ âœ…
- [x] æ ¸å¿ƒPTåº”ç”¨å®‰è£…
- [x] åª’ä½“æœåŠ¡å™¨é€‰æ‹©
- [x] åŸºç¡€äº¤äº’ç•Œé¢
- [x] ç³»ç»Ÿç¯å¢ƒæ£€æŸ¥

### v1.1 - ä¼˜åŒ–ç‰ˆæœ¬ ğŸ”„
- [ ] é”™è¯¯å¤„ç†ä¼˜åŒ–
- [ ] æ—¥å¿—ç³»ç»Ÿå®Œå–„
- [ ] é…ç½®éªŒè¯åŠŸèƒ½
- [ ] æ€§èƒ½ä¼˜åŒ–

### v2.0 - é«˜çº§ç‰ˆæœ¬ ğŸ“…
- [x] åˆ†ç±»åº”ç”¨é€‰æ‹©
- [x] æ›´å¤šåº”ç”¨æ”¯æŒ
- [ ] Webç®¡ç†ç•Œé¢
- [ ] é…ç½®å¯¼å…¥å¯¼å‡º

### v2.1 - ä¼ä¸šç‰ˆæœ¬ ğŸ“…
- [ ] NASç³»ç»Ÿæ”¯æŒ
- [ ] é›†ç¾¤éƒ¨ç½²æ”¯æŒ
- [ ] é«˜å¯ç”¨é…ç½®
- [ ] ä¼ä¸šçº§ç›‘æ§

### v3.0 - äº‘åŸç”Ÿç‰ˆæœ¬ ğŸ”®
- [ ] Kubernetesæ”¯æŒ
- [ ] å¾®æœåŠ¡æ¶æ„
- [ ] äº‘å¹³å°é›†æˆ
- [ ] AIæ™ºèƒ½é…ç½®

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åº”ç”¨

1. **æ›´æ–°åº”ç”¨å®šä¹‰**
   ```bash
   # åœ¨ scripts/advanced-installer.sh ä¸­æ·»åŠ 
   declare -A NEW_CATEGORY_APPS=(
       ["new-app"]="New App - åº”ç”¨æè¿°"
   )
   ```

2. **åˆ›å»ºé…ç½®å‡½æ•°**
   ```bash
   # åœ¨ generate_app_config() å‡½æ•°ä¸­æ·»åŠ 
   "new-app")
       cat >> "$INSTALL_PATH/$COMPOSE_FILE" << EOF
   # æ–°åº”ç”¨é…ç½®
   EOF
       ;;
   ```

3. **æ›´æ–°æ¨¡æ¿æ–‡ä»¶**
   ```yaml
   # åœ¨ configs/docker-compose-templates.yml ä¸­æ·»åŠ 
   new-app:
     image: new-app:latest
     # å®Œæ•´é…ç½®...
   ```

4. **åˆ›å»ºç‹¬ç«‹é…ç½®**
   ```bash
   # åˆ›å»º configs/docker-compose/new-app.yml
   ```

5. **æ›´æ–°æ–‡æ¡£**
   - åœ¨README.mdä¸­æ·»åŠ åº”ç”¨è¯´æ˜
   - åœ¨docs/configuration.mdä¸­æ·»åŠ é…ç½®æŒ‡å—
   - æ›´æ–°CHANGELOG.md

### è„šæœ¬å¼€å‘è§„èŒƒ

#### ä»£ç é£æ ¼
```bash
#!/bin/bash
# è„šæœ¬è¯´æ˜
# ä½œè€…: everett7623

set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

# å˜é‡å®šä¹‰ (å¤§å†™)
DEFAULT_PATH="/opt/docker"

# å‡½æ•°å®šä¹‰ (å°å†™+ä¸‹åˆ’çº¿)
function_name() {
    local param=$1
    # å‡½æ•°å†…å®¹
}

# æ—¥å¿—å‡½æ•°ä½¿ç”¨
log_info "ä¿¡æ¯æ¶ˆæ¯"
log_warn "è­¦å‘Šæ¶ˆæ¯"
log_error "é”™è¯¯æ¶ˆæ¯"
```

#### é”™è¯¯å¤„ç†
```bash
# æ£€æŸ¥å‘½ä»¤æ‰§è¡Œç»“æœ
if ! command -v docker &> /dev/null; then
    log_error "Dockeræœªå®‰è£…"
    exit 1
fi

# æ£€æŸ¥æ–‡ä»¶å­˜åœ¨
if [ ! -f "$config_file" ]; then
    log_warn "é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®"
fi
```

#### ç”¨æˆ·äº¤äº’
```bash
# ç¡®è®¤æ“ä½œ
read -p "ç¡®è®¤æ‰§è¡Œæ“ä½œ? (y/N): " confirm
if [[ "$confirm" != "y" && "$confirm" != "Y" ]]; then
    log_info "æ“ä½œå·²å–æ¶ˆ"
    return
fi

# é€‰æ‹©èœå•
echo "è¯·é€‰æ‹©é€‰é¡¹:"
echo "1. é€‰é¡¹1"
echo "2. é€‰é¡¹2"
read -p "è¯·è¾“å…¥é€‰æ‹©: " choice
```

## ğŸ“¦ å‘å¸ƒæµç¨‹

### 1. ç‰ˆæœ¬å‘å¸ƒæµç¨‹

#### å‡†å¤‡å‘å¸ƒ
```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·
echo "v1.1.0" > version.txt

# 2. æ›´æ–°CHANGELOG.md
# æ·»åŠ æ–°ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹

# 3. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
./tests/test-install.sh
./tests/test-basic-functions.sh

# 4. æäº¤ä»£ç 
git add .
git commit -m "Release v1.1.0"
git push origin main
```

#### åˆ›å»ºRelease
```bash
# 1. åˆ›å»ºæ ‡ç­¾
git tag -a v1.1.0 -m "Release v1.1.0"
git push origin v1.1.0

# 2. åœ¨GitHubåˆ›å»ºRelease
# - é€‰æ‹©æ ‡ç­¾ v1.1.0
# - å¡«å†™Releaseè¯´æ˜
# - ä¸Šä¼ ç›¸å…³æ–‡ä»¶
```

### 2. è‡ªåŠ¨åŒ–å‘å¸ƒ (GitHub Actions)

åˆ›å»º `.github/workflows/release.yml`:
```yaml
name: Release

on:
  push:
    tags:
      - 'v*'

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Create Release
      uses: actions/create-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        tag_name: ${{ github.ref }}
        release_name: Release ${{ github.ref }}
        draft: false
        prerelease: false
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
```bash
# tests/test-basic-functions.sh
#!/bin/bash

test_check_system() {
    echo "æµ‹è¯•ç³»ç»Ÿæ£€æŸ¥åŠŸèƒ½..."
    # æµ‹è¯•ä»£ç 
}

test_install_docker() {
    echo "æµ‹è¯•Dockerå®‰è£…åŠŸèƒ½..."
    # æµ‹è¯•ä»£ç 
}

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
run_all_tests() {
    test_check_system
    test_install_docker
    echo "æ‰€æœ‰æµ‹è¯•å®Œæˆ"
}
```

### é›†æˆæµ‹è¯•
```bash
# tests/test-install.sh
#!/bin/bash

# åœ¨å¹²å‡€ç¯å¢ƒä¸­æµ‹è¯•å®Œæ•´å®‰è£…æµç¨‹
test_full_installation() {
    # 1. æ¸…ç†ç¯å¢ƒ
    # 2. è¿è¡Œå®‰è£…è„šæœ¬
    # 3. éªŒè¯æœåŠ¡çŠ¶æ€
    # 4. æµ‹è¯•åŸºæœ¬åŠŸèƒ½
}
```

### ç¯å¢ƒæµ‹è¯•
- Ubuntu 20.04/22.04
- Debian 10/11
- CentOS 7/8
- Rocky Linux 8/9

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

### ç”¨æˆ·è¡Œä¸ºç›‘æ§
- è„šæœ¬ä¸‹è½½æ¬¡æ•°
- å®‰è£…æˆåŠŸç‡
- å¸¸è§é”™è¯¯ç±»å‹
- ç”¨æˆ·åé¦ˆåˆ†æ

### æŠ€æœ¯æŒ‡æ ‡ç›‘æ§
- è„šæœ¬æ‰§è¡Œæ—¶é—´
- èµ„æºä½¿ç”¨æƒ…å†µ
- æœåŠ¡å¯åŠ¨æˆåŠŸç‡
- é…ç½®é”™è¯¯ç‡

## ğŸ¤ è´¡çŒ®æŒ‡å—

### Issue æäº¤
1. **BugæŠ¥å‘Š**: ä½¿ç”¨bug_reportæ¨¡æ¿
2. **åŠŸèƒ½è¯·æ±‚**: ä½¿ç”¨feature_requestæ¨¡æ¿
3. **é—®é¢˜å’¨è¯¢**: ä½¿ç”¨questionæ¨¡æ¿

### Pull Request
1. **Forké¡¹ç›®**: ä»mainåˆ†æ”¯åˆ›å»º
2. **åˆ›å»ºåˆ†æ”¯**: `git checkout -b feature/new-feature`
3. **ç¼–å†™ä»£ç **: éµå¾ªä»£ç è§„èŒƒ
4. **æ·»åŠ æµ‹è¯•**: ç¡®ä¿åŠŸèƒ½æ­£å¸¸
5. **æäº¤PR**: ä½¿ç”¨PRæ¨¡æ¿

### ä»£ç å®¡æŸ¥
- åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥
- ä»£ç è´¨é‡è¯„ä¼°
- æ–‡æ¡£å®Œæ•´æ€§éªŒè¯
- æµ‹è¯•è¦†ç›–ç‡æ£€æŸ¥

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

### å½“å‰çŠ¶æ€
- **æ”¯æŒåº”ç”¨**: 50+ ä¸ª
- **æ”¯æŒç³»ç»Ÿ**: 6 ç§Linuxå‘è¡Œç‰ˆ
- **è„šæœ¬è¡Œæ•°**: 2000+ è¡Œ
- **æ–‡æ¡£é¡µæ•°**: 20+ é¡µ

### å‘å±•ç›®æ ‡
- **v2.0**: æ”¯æŒ100+åº”ç”¨
- **v3.0**: æ”¯æŒå®¹å™¨ç¼–æ’
- **ç¤¾åŒº**: 1000+ Star
- **ç”¨æˆ·**: 10000+ å®‰è£…é‡

## ğŸ”§ ç»´æŠ¤ä»»åŠ¡

### æ—¥å¸¸ç»´æŠ¤
- [ ] æ£€æŸ¥ä¾èµ–æ›´æ–°
- [ ] ä¿®å¤å·²çŸ¥Bug
- [ ] æ›´æ–°æ–‡æ¡£å†…å®¹
- [ ] å›å¤ç”¨æˆ·Issue

### å®šæœŸç»´æŠ¤
- [ ] æ›´æ–°Dockeré•œåƒç‰ˆæœ¬
- [ ] æµ‹è¯•æ–°ç³»ç»Ÿå…¼å®¹æ€§
- [ ] ä¼˜åŒ–è„šæœ¬æ€§èƒ½
- [ ] å¢åŠ æ–°åŠŸèƒ½

### é•¿æœŸç»´æŠ¤
- [ ] æ¶æ„é‡æ„
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨åŠ å›º
- [ ] å›½é™…åŒ–æ”¯æŒ

## ğŸ“ æ–‡æ¡£ç»´æŠ¤

### æ–‡æ¡£æ›´æ–°æµç¨‹
1. **è¯†åˆ«éœ€æ±‚**: ç”¨æˆ·åé¦ˆã€åŠŸèƒ½æ›´æ–°
2. **ç¼–å†™å†…å®¹**: Markdownæ ¼å¼
3. **å®¡æŸ¥æ ¡å¯¹**: å‡†ç¡®æ€§ã€å®Œæ•´æ€§
4. **å‘å¸ƒæ›´æ–°**: åŒæ­¥åˆ°GitHub

### æ–‡æ¡£è´¨é‡æ ‡å‡†
- **å‡†ç¡®æ€§**: ä¿¡æ¯æ­£ç¡®æ— è¯¯
- **å®Œæ•´æ€§**: æ¶µç›–æ‰€æœ‰å¿…è¦ä¿¡æ¯
- **æ˜“è¯»æ€§**: ç»“æ„æ¸…æ™°ã€è¯­è¨€ç®€æ´
- **å®ç”¨æ€§**: åŒ…å«å®é™…æ“ä½œç¤ºä¾‹

## ğŸš€ æœªæ¥è§„åˆ’

### æŠ€æœ¯å‘å±•æ–¹å‘
1. **äº‘åŸç”Ÿ**: Kubernetesã€Helmæ”¯æŒ
2. **è‡ªåŠ¨åŒ–**: CI/CDé›†æˆ
3. **æ™ºèƒ½åŒ–**: AIè¾…åŠ©é…ç½®
4. **å¯è§†åŒ–**: Webç®¡ç†ç•Œé¢

### ç¤¾åŒºå»ºè®¾
1. **æ–‡æ¡£**: å¤šè¯­è¨€æ”¯æŒ
2. **æ•™ç¨‹**: è§†é¢‘æ•™ç¨‹åˆ¶ä½œ
3. **è®ºå›**: ç”¨æˆ·äº¤æµå¹³å°
4. **åŸ¹è®­**: åœ¨çº¿åŸ¹è®­è¯¾ç¨‹

### å•†ä¸šåŒ–è€ƒè™‘
1. **ä¼ä¸šç‰ˆ**: é«˜çº§åŠŸèƒ½
2. **å’¨è¯¢æœåŠ¡**: ä¸“ä¸šæ”¯æŒ
3. **åŸ¹è®­æœåŠ¡**: ä¼ä¸šåŸ¹è®­
4. **å®šåˆ¶å¼€å‘**: ä¸ªæ€§åŒ–éœ€æ±‚

---

ğŸ“§ **è”ç³»æ–¹å¼**: å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡GitHub Issuesè”ç³»æˆ‘ä»¬ã€‚

â­ **æ”¯æŒé¡¹ç›®**: å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼
